<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoangKun - Pro Gamer</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #121212; color: white; text-align: center; padding: 20px; margin: 0; }
        .card { background: #1e1e1e; max-width: 450px; margin: auto; padding: 25px; border-radius: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .avatar { width: 120px; height: 120px; border-radius: 20px; border: 3px solid #ffcc00; margin-bottom: 10px; }

        .btn-social {
            display: flex; align-items: center; justify-content: center;
            padding: 12px; margin: 8px auto; color: white; text-decoration: none;
            border-radius: 12px; font-weight: bold; width: 85%; transition: 0.3s;
        }
        .facebook { background: #1877F2; } .zalo { background: #0068FF; } .tiktok { background: #000; border: 1px solid #444; }

        /* Game Style */
        #gameWrapper { position: relative; width: 100%; max-width: 350px; margin: 20px auto; border-radius: 15px; overflow: hidden; border: 3px solid #444; }
        #gameCanvas { background: #000; display: block; width: 100%; cursor: none; touch-action: none; }
        
        #gameOverlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 10;
        }

        .btn-game {
            background: #ffcc00; border: none; padding: 10px 25px; border-radius: 10px;
            font-weight: bold; cursor: pointer; margin-top: 10px;
        }

        .score-board { display: flex; justify-content: space-around; margin-bottom: 10px; font-weight: bold; }
        .shake { animation: shake 0.2s linear; }
        @keyframes shake { 0% { transform: translate(2px); } 50% { transform: translate(-2px); } 100% { transform: translate(0); } }
    </style>
</head>
<body>
    <div class="card">
        <img src="g2.jpg.webp" class="avatar" alt="G2 Esports">
        <h2 style="margin: 5px 0;">HoangKun üëë</h2>
        
        <a href="https://www.tiktok.com/@hpdbox" class="btn-social tiktok">üéµ TikTok @hpdbox</a>
        <a href="https://facebook.com/nvh12072006" class="btn-social facebook">üîµ Facebook</a>
        <a href="https://zalo.me/84788265513" class="btn-social zalo">üì± Zalo</a>

        <div class="score-board">
            <div style="color: #ffa500;">ƒêi·ªÉm: <span id="scoreVal">0</span></div>
            <div style="color: #00ff00;">K·ª∑ l·ª•c: <span id="highScoreVal">0</span></div>
        </div>

        <div id="gameWrapper">
            <canvas id="gameCanvas" width="350" height="300"></canvas>
            <div id="gameOverlay">
                <h2 id="statusText">H·ª®NG T√ÅO KH√îNG?</h2>
                <p id="finalScore"></p>
                <button id="startBtn" class="btn-game">CH∆†I LU√îN</button>
            </div>
        </div>
        <p style="font-size: 12px; color: #888;">N√© qu·∫£ <strong style="color: purple;">T√°o ƒê·ªôc ‚ò†Ô∏è</strong> ra nh√©!</p>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('scoreVal');
        const highScoreEl = document.getElementById('highScoreVal');
        const overlay = document.getElementById('gameOverlay');
        const startBtn = document.getElementById('startBtn');

        let score = 0, highScore = localStorage.getItem('appleHS') || 0, gameRunning = false;
        highScoreEl.innerText = highScore;

        let basket = { x: 140, y: 270, w: 70, h: 10 };
        let apple = { x: 100, y: 0, r: 10, speed: 3, type: 'good' };

        function draw() {
            if (!gameRunning) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Gi·ªè t√°o
            ctx.fillStyle = '#ffcc00';
            ctx.fillRect(basket.x, basket.y, basket.w, basket.h);

            // V·∫≠t th·ªÉ r∆°i
            ctx.fillStyle = apple.type === 'good' ? '#ff4d4d' : '#9b59b6'; // ƒê·ªè l√† t√°o th∆∞·ªùng, T√≠m l√† t√°o ƒë·ªôc
            ctx.beginPath(); ctx.arc(apple.x, apple.y, apple.r, 0, Math.PI*2); ctx.fill();

            apple.y += apple.speed;

            // X·ª≠ l√Ω va ch·∫°m
            if (apple.y + apple.r > basket.y && apple.x > basket.x && apple.x < basket.x + basket.w) {
                if (apple.type === 'good') {
                    score++;
                    apple.speed += 0.2;
                } else {
                    score = Math.max(0, score - 5); // T√°o ƒë·ªôc tr·ª´ 5 ƒëi·ªÉm
                    document.getElementById('gameWrapper').classList.add('shake');
                    setTimeout(() => document.getElementById('gameWrapper').classList.remove('shake'), 200);
                }
                resetApple();
            }

            if (apple.y > canvas.height) {
                if (apple.type === 'good') gameOver();
                else resetApple();
            }

            scoreEl.innerText = score;
            requestAnimationFrame(draw);
        }

        function resetApple() {
            apple.y = 0;
            apple.x = Math.random() * (canvas.width - 20) + 10;
            apple.type = Math.random() > 0.8 ? 'bad' : 'good'; // 20% t·ªâ l·ªá ra t√°o ƒë·ªôc
        }

        function gameOver() {
            gameRunning = false;
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('appleHS', highScore);
                highScoreEl.innerText = highScore;
            }
            document.getElementById('statusText').innerText = "THUA R·ªíI!";
            document.getElementById('finalScore').innerText = "B·∫°n ƒë·∫°t: " + score + " ƒëi·ªÉm";
            startBtn.innerText = "TH·ª¨ L·∫†I";
            overlay.style.display = 'flex';
        }

        startBtn.onclick = () => {
            score = 0; apple.speed = 3; 
            resetApple();
            gameRunning = true;
            overlay.style.display = 'none';
            draw();
        };

        const moveBasket = (e) => {
            let rect = canvas.getBoundingClientRect();
            let x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
            basket.x = x * (canvas.width / rect.width) - basket.w / 2;
        };

        canvas.addEventListener('mousemove', moveBasket);
        canvas.addEventListener('touchmove', (e) => { moveBasket(e); e.preventDefault(); }, {passive:false});
    </script>
</body>
</html>
