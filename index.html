<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoangKun - Ultimate Profile</title>
    <style>
        :root { --primary: #ffcc00; --bg: #0a0a0a; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; text-align: center; margin: 0; overflow-x: hidden; }
        
        /* Hiệu ứng hạt bay phía sau */
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }

        .card { background: rgba(30, 30, 30, 0.9); max-width: 450px; margin: 40px auto; padding: 30px; border-radius: 30px; border: 1px solid #333; backdrop-filter: blur(10px); }
        .avatar { width: 130px; height: 130px; border-radius: 50%; border: 4px solid var(--primary); box-shadow: 0 0 20px var(--primary); transition: 0.5s; }
        .avatar:hover { transform: scale(1.1) rotate(360deg); }

        .btn-social {
            display: flex; align-items: center; justify-content: center;
            padding: 12px; margin: 10px auto; color: white; text-decoration: none;
            border-radius: 15px; font-weight: bold; width: 85%; transition: 0.3s;
        }
        .facebook { background: #1877F2; } .zalo { background: #0068FF; } .tiktok { background: #000; border: 1px solid #444; }
        .btn-social:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(255,255,255,0.1); }

        /* Game Style Pro */
        #gameWrapper { position: relative; width: 100%; max-width: 350px; margin: 20px auto; border-radius: 20px; overflow: hidden; border: 2px solid var(--primary); }
        #gameCanvas { background: #000; display: block; width: 100%; cursor: crosshair; }
        
        #gameOverlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 10;
        }

        .btn-game {
            background: var(--primary); border: none; padding: 12px 30px; border-radius: 10px;
            font-weight: 1000; cursor: pointer; color: #000;
        }

        .stats { display: flex; justify-content: space-around; font-size: 20px; font-weight: bold; margin-bottom: 10px; color: var(--primary); }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>

    <div class="card">
        <img src="g2.jpg.webp" class="avatar" alt="HoangKun">
        <h1 style="letter-spacing: 2px;">HOANG KUN</h1>
        
        <div style="margin-bottom: 25px;">
            <a href="https://www.tiktok.com/@hpdbox" class="btn-social tiktok">TikTok</a>
            <a href="https://facebook.com/nvh12072006" class="btn-social facebook">Facebook</a>
            <a href="https://zalo.me/84788265513" class="btn-social zalo">Zalo</a>
        </div>

        <div class="stats">
            <div>Score: <span id="scoreVal">0</span></div>
            <div style="color: #00ffcc;">Best: <span id="highScoreVal">0</span></div>
        </div>

        <div id="gameWrapper">
            <canvas id="gameCanvas" width="350" height="300"></canvas>
            <div id="gameOverlay">
                <h2 id="statusText" style="color: var(--primary);">BATTLE START</h2>
                <button id="startBtn" class="btn-game">VÀO GAME</button>
            </div>
        </div>
    </div>

    <script>
        // --- HIỆU ỨNG NỀN STARFIELD ---
        const bgCanvas = document.getElementById('bg-canvas');
        const bgCtx = bgCanvas.getContext('2d');
        let stars = [];
        function resize() { bgCanvas.width = window.innerWidth; bgCanvas.height = window.innerHeight; }
        window.onresize = resize; resize();
        for(let i=0; i<150; i++) stars.push({x: Math.random()*bgCanvas.width, y: Math.random()*bgCanvas.height, size: Math.random()*2, speed: Math.random()*0.5});
        function animateBg() {
            bgCtx.clearRect(0,0,bgCanvas.width, bgCanvas.height);
            bgCtx.fillStyle = "white";
            stars.forEach(s => {
                bgCtx.beginPath(); bgCtx.arc(s.x, s.y, s.size, 0, Math.PI*2); bgCtx.fill();
                s.y += s.speed; if(s.y > bgCanvas.height) s.y = 0;
            });
            requestAnimationFrame(animateBg);
        }
        animateBg();

        // --- LOGIC GAME HỨNG TÁO PRO ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let score = 0, highScore = localStorage.getItem('hoangHS') || 0, gameRunning = false;
        document.getElementById('highScoreVal').innerText = highScore;

        let basket = { x: 140, y: 270, w: 70, h: 10 };
        let items = [];

        function spawnItem() {
            const rand = Math.random();
            let type = 'apple';
            if(rand > 0.85) type = 'poison';
            else if(rand > 0.95) type = 'gold'; // Táo vàng hiếm
            items.push({ x: Math.random()*320+15, y: -20, r: 10, speed: 3 + score/10, type });
        }

        function draw() {
            if(!gameRunning) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Giỏ táo Neon
            ctx.fillStyle = '#ffcc00';
            ctx.shadowBlur = 15; ctx.shadowColor = '#ffcc00';
            ctx.fillRect(basket.x, basket.y, basket.w, basket.h);
            ctx.shadowBlur = 0;

            items.forEach((item, index) => {
                item.y += item.speed;
                ctx.beginPath();
                if(item.type === 'apple') ctx.fillStyle = '#ff4d4d';
                else if(item.type === 'poison') ctx.fillStyle = '#9b59b6';
                else ctx.fillStyle = '#ffd700';
                
                ctx.arc(item.x, item.y, item.r, 0, Math.PI*2); ctx.fill();

                // Va chạm
                if(item.y + item.r > basket.y && item.x > basket.x && item.x < basket.x + basket.w) {
                    if(item.type === 'apple') score++;
                    else if(item.type === 'gold') score += 10;
                    else { gameRunning = false; gameOver(); }
                    items.splice(index, 1);
                }
                if(item.y > canvas.height) items.splice(index, 1);
            });

            if(Math.random() < 0.03) spawnItem();
            document.getElementById('scoreVal').innerText = score;
            requestAnimationFrame(draw);
        }

        function gameOver() {
            if(score > highScore) { highScore = score; localStorage.setItem('hoangHS', highScore); }
            document.getElementById('highScoreVal').innerText = highScore;
            document.getElementById('statusText').innerText = "GAME OVER: " + score;
            document.getElementById('gameOverlay').style.display = 'flex';
        }

        document.getElementById('startBtn').onclick = () => {
            score = 0; items = []; gameRunning = true;
            document.getElementById('gameOverlay').style.display = 'none';
            draw();
        };

        canvas.addEventListener('mousemove', e => {
            let rect = canvas.getBoundingClientRect();
            basket.x = (e.clientX - rect.left) * (canvas.width/rect.width) - basket.w/2;
        });
    </script>
</body>
</html>
